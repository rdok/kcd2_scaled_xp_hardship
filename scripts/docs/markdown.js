const fs = require("fs");
const path = require("path");

function markdown(filePaths) {
  const rootDir = path.join(__dirname, "../..");
  let generatedWarningMessage =
    "[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)\r\n";
  let combinedContent = generatedWarningMessage;
  const combineSeparator = "\r\n\r\n";

  filePaths.forEach((filePath) => {
    const fileContent = fs.readFileSync(filePath, "utf8");
    combinedContent += fileContent + combineSeparator + generatedWarningMessage;
  });

  const readmeFile = path.join(rootDir, "readme.md");
  fs.writeFileSync(readmeFile, combinedContent, "utf8");
}

module.exports = markdown;
